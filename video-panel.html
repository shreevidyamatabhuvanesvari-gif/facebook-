<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Reel Caption Creator</title>

<style>
body{
  background:black;
  color:white;
  text-align:center;
  font-family:Arial, sans-serif;
  margin:0;
}

h2{margin-top:15px;}

#videoContainer{
  position:relative;
  display:inline-block;
  margin-top:15px;
}

video{
  width:95vw;
  max-width:400px;
  border-radius:12px;
}

#caption{
  position:absolute;
  bottom:15%;
  width:100%;
  text-align:center;
  font-size:32px;
  font-weight:bold;
  pointer-events:none;
}

input, button{
  margin:5px;
  padding:8px;
  border-radius:6px;
  border:none;
}

button{
  cursor:pointer;
  font-weight:bold;
}

#videoContainer:fullscreen video{
  width:100%;
  height:100%;
  object-fit:contain;
}

#videoContainer:fullscreen #caption{
  font-size:55px;
}
</style>
</head>

<body>

<h2>ðŸŽ¬ Reel Caption Creator</h2>

<input type="file" id="videoInput" accept="video/*"><br>

<input type="text" id="captionText" placeholder="Caption text (space separated)">
<input type="number" id="startTime" placeholder="Start (sec)">
<input type="number" id="endTime" placeholder="End (sec)">
<button onclick="addCaption()">Add Caption</button>
<br>
<button onclick="playVideo()">Play</button>
<button onclick="goFullScreen()">Full Screen</button>

<div id="videoContainer">
  <video id="videoPlayer" controls></video>
  <div id="caption"></div>
</div>

<script>
const videoInput = document.getElementById("videoInput");
const videoPlayer = document.getElementById("videoPlayer");
const captionDiv = document.getElementById("caption");

let captions = [];

videoInput.addEventListener("change", function(){
  const file = this.files[0];
  if(file){
    videoPlayer.src = URL.createObjectURL(file);
  }
});

function addCaption(){
  const text = document.getElementById("captionText").value;
  const start = parseFloat(document.getElementById("startTime").value);
  const end = parseFloat(document.getElementById("endTime").value);

  if(text && !isNaN(start) && !isNaN(end)){
    captions.push({text, start, end});
    alert("Caption Added âœ…");
  }
}

function playVideo(){
  videoPlayer.play();
}

videoPlayer.addEventListener("timeupdate", ()=>{
  const currentTime = videoPlayer.currentTime;
  let activeCaption = captions.find(c => 
    currentTime >= c.start && currentTime <= c.end
  );

  if(activeCaption){
    displayAnimatedWords(activeCaption.text);
  } else {
    captionDiv.innerHTML = "";
  }
});

function displayAnimatedWords(text){
  const words = text.split(" ");
  captionDiv.innerHTML = words.map(word => 
    `<span style="
      color:${randomColor()};
      margin:4px;
      display:inline-block;
      transform:scale(${1 + Math.random()*0.3});
    ">${word}</span>`
  ).join(" ");
}

function randomColor(){
  const colors=["yellow","cyan","orange","pink","lime"];
  return colors[Math.floor(Math.random()*colors.length)];
}

function goFullScreen(){
  const container=document.getElementById("videoContainer");
  if(container.requestFullscreen){
    container.requestFullscreen();
  }
}
</script>

</body>
</html>
